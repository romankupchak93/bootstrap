{"version":3,"file":"mdc-ripple.js","sources":["../src/mdc-ripple.js"],"sourcesContent":["import { MDCRipple, MDCRippleFoundation } from '@material/ripple'\n\nconst NAME = 'bs.ripple'\nclass MDCRippled {\n  constructor(element) {\n    this.root = element\n    this.active = false\n    this.root.addEventListener('keydown', evt => {\n      if (isSpace(evt)) {\n        this.active = true\n      }\n    })\n    this.root.addEventListener('keyup', evt => {\n      if (isSpace(evt)) {\n        this.active = false\n      }\n    })\n    this.root.addEventListener('mouseenter', evt => {\n      if (isSpace(evt)) {\n        this.active = false\n      }\n    })\n    this.root.addEventListener('mouseleave', evt => {\n      if (isSpace(evt)) {\n        this.active = false\n      }\n    })\n    if (this.root.MDCRippled instanceof MDCRippled) {\n      // An instance of this class already exists for this element\n      return this.root.MDCRippled\n    }\n\n    // Create a new instance of this class for this element\n    const foundation = new MDCRippleFoundation({\n      ...MDCRipple.createAdapter(this), isSurfaceActive: () => this.active\n    })\n    this.ripple = new MDCRipple(this.root, foundation)\n    this.root.MDCRippled = this\n\n    // const foundation = new MDCRippleFoundation({\n    //   ...MDCRipple.createAdapter(this), isSurfaceActive: () => this.active\n    // })\n    // this.ripple = new MDCRipple(this.root, foundation)\n  }\n  static get NAME() {\n    return NAME\n  }\n}\n\nfunction isSpace(evt) {\n  return evt.key === ' ' || evt.keyCode === 32\n}\n\nfunction addClassToElementsWithClassText(classText, classToAdd, options = {\n  targetClass: [],\n  excludeClasses: []\n}) {\n  const { targetClass, excludeClasses } = options\n\n  const excludeSelectors = excludeClasses.map(excludeClass => {\n    return `:not(.${excludeClass}), :not(div[class*=\"${classText}-\"])`\n  })\n\n  const primarySelector = document.querySelectorAll(`[class*=\"${classText}\"]${excludeSelectors.join('')}`)\n  const excludeElements = document.querySelectorAll(`.${excludeClasses.join('.')}`)\n\n  for (const elementSelector of primarySelector) {\n    window.addEventListener('load', () => {\n      if ((elementSelector.classList.contains(classText) || targetClass.some(cls => elementSelector.classList.contains(cls))) && !excludeClasses.some(cls => elementSelector.classList.contains(cls))) {\n        elementSelector.classList.add(classToAdd)\n        elementSelector.unbounded = true\n        return new MDCRippled(elementSelector)\n      }\n    })\n  }\n\n  for (const excludeElement of excludeElements) {\n    const childElementExclude = document.createElement('div')\n    childElementExclude.classList.add('ripple-surface')\n    excludeElement.append(childElementExclude)\n  }\n\n  for (const classNameTarget of targetClass) {\n    const elementsWithClassTarget = document.querySelectorAll(`.${classNameTarget}`)\n    for (const elementClassTarget of elementsWithClassTarget) {\n      elementClassTarget.style.borderRadius = '50%'\n    }\n  }\n}\n\naddClassToElementsWithClassText('btn', 'mdc-ripple-surface', {\n  targetClass: ['btn-close', 'btn-icon', 'btn-edit', 'btn-clipboard', 'navbar-toggler'],\n  excludeClasses: ['dropdown-toggle']\n})\nexport default MDCRippled\n"],"names":["NAME","MDCRippled","constructor","element","root","active","addEventListener","evt","isSpace","foundation","MDCRippleFoundation","MDCRipple","createAdapter","isSurfaceActive","ripple","key","keyCode","addClassToElementsWithClassText","classText","classToAdd","options","targetClass","excludeClasses","excludeSelectors","map","excludeClass","primarySelector","document","querySelectorAll","join","excludeElements","elementSelector","window","classList","contains","some","cls","add","unbounded","excludeElement","childElementExclude","createElement","append","classNameTarget","elementsWithClassTarget","elementClassTarget","style","borderRadius"],"mappings":";;;;;;;;;;;EAEA,MAAMA,IAAI,GAAG,WAAW,CAAA;EACxB,MAAMC,UAAU,CAAC;IACfC,WAAWA,CAACC,OAAO,EAAE;MACnB,IAAI,CAACC,IAAI,GAAGD,OAAO,CAAA;MACnB,IAAI,CAACE,MAAM,GAAG,KAAK,CAAA;MACnB,IAAI,CAACD,IAAI,CAACE,gBAAgB,CAAC,SAAS,EAAEC,GAAG,IAAI;EAC3C,MAAA,IAAIC,OAAO,CAACD,GAAG,CAAC,EAAE;UAChB,IAAI,CAACF,MAAM,GAAG,IAAI,CAAA;EACpB,OAAA;EACF,KAAC,CAAC,CAAA;MACF,IAAI,CAACD,IAAI,CAACE,gBAAgB,CAAC,OAAO,EAAEC,GAAG,IAAI;EACzC,MAAA,IAAIC,OAAO,CAACD,GAAG,CAAC,EAAE;UAChB,IAAI,CAACF,MAAM,GAAG,KAAK,CAAA;EACrB,OAAA;EACF,KAAC,CAAC,CAAA;MACF,IAAI,CAACD,IAAI,CAACE,gBAAgB,CAAC,YAAY,EAAEC,GAAG,IAAI;EAC9C,MAAA,IAAIC,OAAO,CAACD,GAAG,CAAC,EAAE;UAChB,IAAI,CAACF,MAAM,GAAG,KAAK,CAAA;EACrB,OAAA;EACF,KAAC,CAAC,CAAA;MACF,IAAI,CAACD,IAAI,CAACE,gBAAgB,CAAC,YAAY,EAAEC,GAAG,IAAI;EAC9C,MAAA,IAAIC,OAAO,CAACD,GAAG,CAAC,EAAE;UAChB,IAAI,CAACF,MAAM,GAAG,KAAK,CAAA;EACrB,OAAA;EACF,KAAC,CAAC,CAAA;EACF,IAAA,IAAI,IAAI,CAACD,IAAI,CAACH,UAAU,YAAYA,UAAU,EAAE;EAC9C;EACA,MAAA,OAAO,IAAI,CAACG,IAAI,CAACH,UAAU,CAAA;EAC7B,KAAA;;EAEA;EACA,IAAA,MAAMQ,UAAU,GAAG,IAAIC,0BAAmB,CAAC;EACzC,MAAA,GAAGC,gBAAS,CAACC,aAAa,CAAC,IAAI,CAAC;EAAEC,MAAAA,eAAe,EAAEA,MAAM,IAAI,CAACR,MAAAA;EAChE,KAAC,CAAC,CAAA;MACF,IAAI,CAACS,MAAM,GAAG,IAAIH,gBAAS,CAAC,IAAI,CAACP,IAAI,EAAEK,UAAU,CAAC,CAAA;EAClD,IAAA,IAAI,CAACL,IAAI,CAACH,UAAU,GAAG,IAAI,CAAA;;EAE3B;EACA;EACA;EACA;EACF,GAAA;;IACA,WAAWD,IAAIA,GAAG;EAChB,IAAA,OAAOA,IAAI,CAAA;EACb,GAAA;EACF,CAAA;EAEA,SAASQ,OAAOA,CAACD,GAAG,EAAE;IACpB,OAAOA,GAAG,CAACQ,GAAG,KAAK,GAAG,IAAIR,GAAG,CAACS,OAAO,KAAK,EAAE,CAAA;EAC9C,CAAA;EAEA,SAASC,+BAA+BA,CAACC,SAAS,EAAEC,UAAU,EAAEC,OAAO,GAAG;EACxEC,EAAAA,WAAW,EAAE,EAAE;EACfC,EAAAA,cAAc,EAAE,EAAA;EAClB,CAAC,EAAE;IACD,MAAM;MAAED,WAAW;EAAEC,IAAAA,cAAAA;EAAe,GAAC,GAAGF,OAAO,CAAA;EAE/C,EAAA,MAAMG,gBAAgB,GAAGD,cAAc,CAACE,GAAG,CAACC,YAAY,IAAI;EAC1D,IAAA,OAAQ,CAAQA,MAAAA,EAAAA,YAAa,CAAsBP,oBAAAA,EAAAA,SAAU,CAAK,IAAA,CAAA,CAAA;EACpE,GAAC,CAAC,CAAA;EAEF,EAAA,MAAMQ,eAAe,GAAGC,QAAQ,CAACC,gBAAgB,CAAE,CAAWV,SAAAA,EAAAA,SAAU,CAAIK,EAAAA,EAAAA,gBAAgB,CAACM,IAAI,CAAC,EAAE,CAAE,EAAC,CAAC,CAAA;EACxG,EAAA,MAAMC,eAAe,GAAGH,QAAQ,CAACC,gBAAgB,CAAE,CAAA,CAAA,EAAGN,cAAc,CAACO,IAAI,CAAC,GAAG,CAAE,EAAC,CAAC,CAAA;EAEjF,EAAA,KAAK,MAAME,eAAe,IAAIL,eAAe,EAAE;EAC7CM,IAAAA,MAAM,CAAC1B,gBAAgB,CAAC,MAAM,EAAE,MAAM;EACpC,MAAA,IAAI,CAACyB,eAAe,CAACE,SAAS,CAACC,QAAQ,CAAChB,SAAS,CAAC,IAAIG,WAAW,CAACc,IAAI,CAACC,GAAG,IAAIL,eAAe,CAACE,SAAS,CAACC,QAAQ,CAACE,GAAG,CAAC,CAAC,KAAK,CAACd,cAAc,CAACa,IAAI,CAACC,GAAG,IAAIL,eAAe,CAACE,SAAS,CAACC,QAAQ,CAACE,GAAG,CAAC,CAAC,EAAE;EAC/LL,QAAAA,eAAe,CAACE,SAAS,CAACI,GAAG,CAAClB,UAAU,CAAC,CAAA;UACzCY,eAAe,CAACO,SAAS,GAAG,IAAI,CAAA;EAChC,QAAA,OAAO,IAAIrC,UAAU,CAAC8B,eAAe,CAAC,CAAA;EACxC,OAAA;EACF,KAAC,CAAC,CAAA;EACJ,GAAA;EAEA,EAAA,KAAK,MAAMQ,cAAc,IAAIT,eAAe,EAAE;EAC5C,IAAA,MAAMU,mBAAmB,GAAGb,QAAQ,CAACc,aAAa,CAAC,KAAK,CAAC,CAAA;EACzDD,IAAAA,mBAAmB,CAACP,SAAS,CAACI,GAAG,CAAC,gBAAgB,CAAC,CAAA;EACnDE,IAAAA,cAAc,CAACG,MAAM,CAACF,mBAAmB,CAAC,CAAA;EAC5C,GAAA;EAEA,EAAA,KAAK,MAAMG,eAAe,IAAItB,WAAW,EAAE;MACzC,MAAMuB,uBAAuB,GAAGjB,QAAQ,CAACC,gBAAgB,CAAE,CAAA,CAAA,EAAGe,eAAgB,CAAA,CAAC,CAAC,CAAA;EAChF,IAAA,KAAK,MAAME,kBAAkB,IAAID,uBAAuB,EAAE;EACxDC,MAAAA,kBAAkB,CAACC,KAAK,CAACC,YAAY,GAAG,KAAK,CAAA;EAC/C,KAAA;EACF,GAAA;EACF,CAAA;EAEA9B,+BAA+B,CAAC,KAAK,EAAE,oBAAoB,EAAE;IAC3DI,WAAW,EAAE,CAAC,WAAW,EAAE,UAAU,EAAE,UAAU,EAAE,eAAe,EAAE,gBAAgB,CAAC;IACrFC,cAAc,EAAE,CAAC,iBAAiB,CAAA;EACpC,CAAC,CAAC;;;;;;;;"}