{"version":3,"file":"mdc.js","sources":["../src/mdc.js"],"sourcesContent":["import { MDCRippleFoundation } from '@material/ripple'\nimport { applyPassive } from '@material/dom/events'\nimport { addClass, removeClass } from '@material/dom/classlist'\nclass BSMDCRipple {\n  constructor(element) {\n    this.element = element\n    this.disabled = false\n\n    // Initialize MDCFoundation\n    this.foundation = new MDCRippleFoundation({\n      addClass: className => addClass(this.element, className),\n      browserSupportsCssVars() {\n        return window.CSS && CSS.supports && CSS.supports('box-shadow', 'var(--mdc-ripple-left) var(--mdc-ripple-top) 0 0 var(--mdc-ripple-color)')\n      },\n      computeBoundingRect: () => {\n        return this.element.getBoundingClientRect()\n      },\n      containsEventTarget: target => this.element.contains(target),\n      deregisterDocumentInteractionHandler: (evtType, handler) => document.documentElement.removeEventListener(evtType, handler, applyPassive()),\n      deregisterInteractionHandler: (evtType, handler) => this.element.removeEventListener(evtType, handler, applyPassive()),\n      deregisterResizeHandler: handler => window.removeEventListener('resize', handler),\n      getWindowPageOffset: () => ({\n        x: window.pageXOffset,\n        y: window.pageYOffset\n      }),\n      isSurfaceActive: () => this.element[FIRST_CHAR_LOWERCASED_METHOD_NAMES.mousedown] || this.element[FIRST_CHAR_LOWERCASED_METHOD_NAMES.touchstart],\n      isSurfaceDisabled: () => this.disabled,\n      registerDocumentInteractionHandler: (evtType, handler) => document.documentElement.addEventListener(evtType, handler, applyPassive()),\n      registerInteractionHandler: (evtType, handler) => this.element.addEventListener(evtType, handler, applyPassive()),\n      registerResizeHandler: handler => window.addEventListener('resize', handler),\n      removeClass: className => removeClass(this.element, className),\n      updateCssVariable: (varName, value) => this.element.style.setProperty(varName, value)\n    })\n\n    this.foundation.init()\n  }\n\n  destroy() {\n    // Destroy MDCFoundation\n    this.foundation.destroy()\n    // Remove ripple classes from element\n    removeClass(this.element, 'mdc-ripple-upgraded', 'mdc-ripple')\n    // Remove ripple attributes from element\n    this.element.removeAttribute('data-mdc-ripple-is-unbounded')\n    this.element.removeAttribute('data-mdc-ripple-fg-size')\n    this.element.removeAttribute('data-mdc-ripple-fg-scale')\n    this.element.removeAttribute('data-mdc-ripple-fg-translate')\n    this.element.removeAttribute('data-mdc-ripple-left')\n    this.element.removeAttribute('data-mdc-ripple-top')\n  }\n\n  static attachTo(root) {\n    return new BSMDCRipple(root)\n  }\n}\nexport default BSMDCRipple\n"],"names":["BSMDCRipple","constructor","element","disabled","foundation","MDCRippleFoundation","addClass","className","browserSupportsCssVars","window","CSS","supports","computeBoundingRect","getBoundingClientRect","containsEventTarget","target","contains","deregisterDocumentInteractionHandler","evtType","handler","document","documentElement","removeEventListener","applyPassive","deregisterInteractionHandler","deregisterResizeHandler","getWindowPageOffset","x","pageXOffset","y","pageYOffset","isSurfaceActive","FIRST_CHAR_LOWERCASED_METHOD_NAMES","mousedown","touchstart","isSurfaceDisabled","registerDocumentInteractionHandler","addEventListener","registerInteractionHandler","registerResizeHandler","removeClass","updateCssVariable","varName","value","style","setProperty","init","destroy","removeAttribute","attachTo","root"],"mappings":"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"}