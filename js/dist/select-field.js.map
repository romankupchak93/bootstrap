{"version":3,"file":"select-field.js","sources":["../src/select-field.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Material Style (v3.0.0): select_field.js\n * Licensed under MIT (https://github.com/materialstyle/materialstyle/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport {\n  getBaseColor, getPrimaryColor\n} from './util/color.js'\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Dropdown from './dropdown.js'\nimport {\n  defineJQueryPlugin\n} from './util/index.js'\n\n/**\n * --------------------------------------------------------------------------\n * Constants\n * --------------------------------------------------------------------------\n */\n\nconst NAME = 'selectfield'\nconst VERSION = '3.0.0'\nconst DATA_KEY = 'bs.selectfield'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_FOCUS = `focus${EVENT_KEY}`\nconst EVENT_FOCUSOUT = `focusout${EVENT_KEY}`\nconst EVENT_CLICK = `click${EVENT_KEY}`\nconst EVENT_KEYUP = `keyup${EVENT_KEY}`\n\nconst EVENT_HIDDEN = 'hidden.bs.dropdown'\nconst EVENT_SHOWN = 'shown.bs.dropdown'\n\nconst CLASS_NAME_FLOATING = 'floating-label'\nconst CLASS_NAME_FLOATING_OUTLINED = 'floating-label-outlined'\nconst CLASS_NAME_FLOATING_DARK = 'floating-label-dark'\n\nconst CLASS_NAME_SEARCHABLE = 'searchable'\nconst CLASS_NAME_MULTI_SELECT = 'multi-select'\n\nconst SELECTOR_DROPDOWN_ITEM = '.dropdown-item:not(.select-all):not(.btn-close)'\nconst SELECTOR_SELECT_ALL = '.select-all'\n\nconst LABEL_SCALE = 0.85\nconst TO_STRING_BASE = 36\nconst SUBSTR_INDEX = 2\n\nclass SelectField extends BaseComponent {\n  constructor(element) {\n    super(element)\n    this._select = element\n    this._formFloating = element.closest(`.${CLASS_NAME_FLOATING}`)\n\n    if (this._select && this._formFloating) {\n      this.initSelect()\n      this._setListeners()\n    }\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = SelectField.getOrCreateInstance(this)\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n\n  initSelect() {\n    this._select.tabIndex = -1\n\n    this._isSearchable = Boolean(this._formFloating.className.includes(CLASS_NAME_SEARCHABLE))\n    this._multiSelectEnabled = Boolean(this._formFloating.className.includes(CLASS_NAME_MULTI_SELECT))\n\n    const baseColor = getBaseColor(this._formFloating)\n    const primaryColor = getPrimaryColor(this._formFloating)\n\n    if (baseColor) {\n      this._formFloating.style.setProperty('--bs-form-field-border-color', baseColor)\n    }\n\n    if (primaryColor) {\n      this._formFloating.style.setProperty('--bs-form-field-active-border-color', primaryColor)\n    }\n\n    this._label = this._formFloating.querySelector('label')\n    this._inputGroup = this._formFloating.closest('.input-group')\n\n    if (this._inputGroup) {\n      if (this._formFloating.className.includes(CLASS_NAME_FLOATING_OUTLINED)) {\n        this._inputGroup.classList.add('has-form-floating')\n      } else {\n        this._inputGroup.classList.add('has-form-floating-outlined')\n      }\n    }\n\n    this._formFloatingWithIcon = this._formFloating.closest('.form-floating-with-icon')\n\n    if (this._formFloatingWithIcon) {\n      this._prepend = this._formFloatingWithIcon.querySelector('.prepend')\n      this._append = this._formFloatingWithIcon.querySelector('.append')\n    }\n\n    if (this._prepend) {\n      this._label.style.paddingLeft = 0\n    }\n\n    this.createDropdownMenu()\n    this.createDropdown()\n    this.showSelectedItems()\n\n    if (this._formFloating.className.includes(CLASS_NAME_FLOATING_OUTLINED)) {\n      this.addRipple()\n    } else {\n      this.addNotch()\n    }\n\n    if (this._label) {\n      this.toggleLabelState()\n    }\n  }\n\n  redraw() {\n    if (this._label) {\n      this.toggleLabelState()\n      this._formFloating.style.setProperty('--label-floating-margin-right', `-${this._label.offsetWidth - (this._label.offsetWidth * LABEL_SCALE)}px`)\n    }\n\n    this.addFontsReadyEvent()\n  }\n\n  rebuild() {\n    this._options = []\n    this._dropdownMenu.innerHTML = ''\n\n    this.createDropdownMenu()\n    this.showSelectedItems()\n    this.redraw()\n    this._setListeners()\n  }\n\n  createDropdownMenu() {\n    let dropdownMenu = this._dropdownMenu\n\n    if (dropdownMenu === undefined) {\n      dropdownMenu = document.createElement('div')\n      dropdownMenu.role = 'listbox'\n      dropdownMenu.className = 'dropdown-menu mb-2'\n      dropdownMenu.setAttribute('aria-label', this._label ? this._label.innerHTML : 'Select Field')\n      dropdownMenu.id = `listbox${Date.now().toString(TO_STRING_BASE)}${Math.random().toString(TO_STRING_BASE).slice(SUBSTR_INDEX)}${Date.now().toString(TO_STRING_BASE)}listbox`\n    }\n\n    if (this._isSearchable) {\n      dropdownMenu.append(this.createSearchContainer())\n    }\n\n    if (this._multiSelectEnabled) {\n      dropdownMenu.append(this.createDropdownItems('Select All', '', false, true))\n    }\n\n    const optionsArray = []\n    const options = this._select.querySelectorAll('option')\n\n    for (const [, value] of Object.entries(options)) {\n      dropdownMenu.append(this.createDropdownItems(value.text, value.value, value.selected))\n      optionsArray.push({\n        value: value.value,\n        text: value.innerHTML,\n        selected: value.selected\n      })\n    }\n\n    this._options = optionsArray\n\n    if (this._multiSelectEnabled) {\n      const closeButton = document.createElement('button')\n      closeButton.type = 'button'\n      closeButton.className = `btn-close ${(this._formFloating.className.includes(CLASS_NAME_FLOATING_DARK) ? 'btn-close-white' : '')} dropdown-item w-100`\n      closeButton.setAttribute('aria-label', 'Close listbox')\n\n      this._closeButton = closeButton\n      dropdownMenu.append(closeButton)\n    }\n\n    this._dropdownMenu = dropdownMenu\n  }\n\n  createDropdown() {\n    const dropdown = document.createElement('div')\n    dropdown.className = 'dropdown'\n\n    const selectedItem = document.createElement('button')\n    selectedItem.type = 'button'\n    selectedItem.role = 'combobox'\n    selectedItem.setAttribute('aria-haspopup', 'listbox')\n    selectedItem.setAttribute('aria-controls', this._dropdownMenu.id)\n    selectedItem.setAttribute('aria-expanded', 'false')\n    selectedItem.setAttribute('aria-label', this._label ? this._label.innerHTML : 'Select Field')\n    selectedItem.className = 'btn btn-select dropdown-toggle text-start shadow-none'\n    selectedItem.dataset.bsToggle = 'dropdown'\n    selectedItem.dataset.bsAutoClose = 'outside'\n\n    if (this._select.disabled) {\n      selectedItem.disabled = true\n    }\n\n    dropdown.append(selectedItem)\n    dropdown.append(this._dropdownMenu)\n\n    this._dropdown = dropdown\n    this._selectedItem = selectedItem\n\n    this._select.after(this._dropdown)\n\n    this._dropdownInstance = Dropdown.getOrCreateInstance(this._selectedItem)\n  }\n\n  createSearchContainer() {\n    const searchInput = document.createElement('input')\n    searchInput.type = 'search'\n    searchInput.placeholder = 'Search'\n    searchInput.className = 'search-input'\n    searchInput.autocomplete = 'off'\n\n    return searchInput\n  }\n\n  createDropdownItems(text, value, checked, isSelectAllButton = false) {\n    const dropdownItem = document.createElement('button')\n    dropdownItem.type = 'button'\n    dropdownItem.role = 'option'\n    dropdownItem.className = 'dropdown-item d-flex align-items-center'\n    dropdownItem.setAttribute('aria-selected', 'false')\n    dropdownItem.setAttribute('aria-label', text)\n    dropdownItem.dataset.value = value\n\n    if (isSelectAllButton) {\n      dropdownItem.classList.add('select-all')\n    }\n\n    if (this._multiSelectEnabled) {\n      const checkmark = document.createElement('span')\n      checkmark.className = 'checkmark me-1'\n\n      const label = document.createElement('span')\n      label.className = 'dropdown-text'\n      label.innerHTML = text\n\n      dropdownItem.append(checkmark)\n      dropdownItem.append(label)\n    } else {\n      dropdownItem.innerHTML = text\n      if (checked) {\n        dropdownItem.setAttribute('aria-selected', 'true')\n      }\n    }\n\n    return dropdownItem\n  }\n\n  showSelectedItems() {\n    if (this._multiSelectEnabled) {\n      this._selectedItem.innerHTML = this._options.map(option => {\n        if (option.selected) {\n          return `<span class=\"badge d-inline-flex align-items-center p-0\">${option.text}<button type=\"button\" class=\"btn-close ${(this._formFloating.className.includes(CLASS_NAME_FLOATING_DARK) ? 'btn-close-white' : '')}\" aria-label=\"Deselect ${option.text}\" data-value=\"${option.value}\"></button></span>`\n        }\n\n        return ''\n      }).join('')\n\n      const closeButton = this._selectedItem.querySelectorAll('.btn-close')\n\n      for (const [, value] of Object.entries(closeButton)) {\n        EventHandler.on(value, EVENT_CLICK, event => {\n          this._dropdownInstance.show()\n          this.selectOne(event.target.dataset.value, false)\n        })\n      }\n    } else {\n      this._selectedItem.innerHTML = this._options.map(option => {\n        if (option.selected) {\n          return option.text\n        }\n\n        return ''\n      }).join('')\n    }\n  }\n\n  addRipple() {\n    const ripple = document.createElement('div')\n    ripple.className = 'm-line-ripple'\n\n    this._ripple = ripple\n    this._dropdown.after(ripple)\n  }\n\n  addNotch() {\n    const notch = document.createElement('div')\n    notch.className = 'm-notch'\n\n    const notchBefore = document.createElement('div')\n    notchBefore.className = 'm-notch-before'\n\n    const notchBetween = document.createElement('div')\n    notchBetween.className = 'm-notch-between'\n\n    const notchAfter = document.createElement('div')\n    notchAfter.className = 'm-notch-after'\n\n    notch.append(notchBefore)\n    notch.append(notchBetween)\n    notch.append(notchAfter)\n\n    this._dropdown.after(notch)\n    this._notch = notch\n\n    if (this._label) {\n      notchBetween.append(this._label)\n      this._formFloating.style.setProperty('--label-floating-margin-right', `-${this._label.offsetWidth - (this._label.offsetWidth * LABEL_SCALE)}px`)\n    }\n  }\n\n  toggleLabelState() {\n    if (this._selectedItem.innerHTML.length) {\n      this._dropdown.classList.add('float')\n    } else {\n      this._dropdown.classList.remove('float')\n    }\n  }\n\n  handleFocusOut() {\n    if (!this._selectedItem.classList.contains('show')) {\n      this.toggleLabelState()\n    }\n  }\n\n  selectOne(value, checked) {\n    if (!this._multiSelectEnabled) {\n      const selectedOptions = this._select.querySelectorAll('option')\n      for (const selectedOption of selectedOptions) {\n        if (selectedOption.selected) {\n          selectedOption.selected = false\n        }\n      }\n    }\n\n    this._select.querySelector(`option[value=\"${value}\"]`).selected = checked\n\n    this._select.dispatchEvent(new Event('change', {\n      bubbles: true\n    }))\n  }\n\n  selectAll(checked) {\n    const options = this._select.querySelectorAll('option')\n\n    for (const option of options) {\n      option.selected = checked\n    }\n\n    this._select.dispatchEvent(new Event('change', {\n      bubbles: true\n    }))\n  }\n\n  setSelectValue(value, checked) {\n    let index\n\n    if (!this._multiSelectEnabled) {\n      // Reset Dropdown\n      const dropdownItems = this._dropdown.querySelectorAll(SELECTOR_DROPDOWN_ITEM)\n      for (const dropdownItem of dropdownItems) {\n        dropdownItem.setAttribute('aria-selected', 'false')\n      }\n\n      // Reset Select\n      index = this._options.findIndex(o => o.selected === true)\n      if (index !== -1) {\n        this._options[index].selected = false\n      }\n    }\n\n    this._dropdown.querySelector(`.dropdown-item[data-value=\"${value}\"]`).setAttribute('aria-selected', checked)\n\n    // Select the option\n    index = this._options.findIndex(o => o.value === value)\n    this._options[index].selected = checked\n\n    this.showSelectedItems()\n  }\n\n  search(value) {\n    value = value.toLowerCase()\n\n    const dropdownItems = this._dropdown.querySelectorAll(SELECTOR_DROPDOWN_ITEM)\n\n    for (const [, item] of Object.entries(dropdownItems)) {\n      let optionText = ''\n\n      optionText = this._multiSelectEnabled ? item.querySelector('.dropdown-text').innerHTML : item.innerHTML\n\n      if (!optionText.toLowerCase().includes(value)) {\n        item.classList.add('d-none')\n        item.classList.remove('d-flex')\n      } else {\n        item.classList.add('d-flex')\n        item.classList.remove('d-none')\n      }\n    }\n  }\n\n  _setListeners() {\n    EventHandler.on(this._selectedItem, EVENT_FOCUS, () => this._dropdown.classList.add('float'))\n    EventHandler.on(this._selectedItem, EVENT_FOCUSOUT, () => this.handleFocusOut())\n    EventHandler.on(this._dropdown, EVENT_SHOWN, () => this._dropdown.classList.add('float'))\n    EventHandler.on(this._dropdown, EVENT_HIDDEN, e => {\n      if (!e.clickEvent) {\n        this._selectedItem.focus()\n      } else {\n        this.handleFocusOut()\n      }\n    })\n\n    EventHandler.on(this._dropdown.querySelector(SELECTOR_SELECT_ALL), EVENT_CLICK, event => {\n      const checked = event.target.getAttribute('aria-selected') !== 'true'\n      event.target.setAttribute('aria-selected', checked)\n\n      this.selectAll(checked)\n    })\n\n    EventHandler.on(this._dropdown.querySelector('.search-input'), EVENT_KEYUP, event => {\n      this.search(event.target.value)\n    })\n\n    EventHandler.on(this._dropdown.querySelector('.search-input'), 'search', event => {\n      this.search(event.target.value)\n    })\n\n    const dropdownItems = this._dropdown.querySelectorAll(SELECTOR_DROPDOWN_ITEM)\n\n    for (const [, value] of Object.entries(dropdownItems)) {\n      EventHandler.on(value, EVENT_CLICK, event => {\n        if (this._multiSelectEnabled) {\n          this.selectOne(event.target.dataset.value, event.target.getAttribute('aria-selected') !== 'true')\n        } else {\n          this.selectOne(event.target.dataset.value, true)\n\n          this._dropdownInstance.toggle()\n        }\n      })\n    }\n\n    if (this._closeButton !== undefined) {\n      EventHandler.on(this._closeButton, EVENT_CLICK, () => {\n        this._dropdownInstance.toggle()\n      })\n    }\n\n    EventHandler.on(this._select, 'change', event => {\n      if (this._multiSelectEnabled) {\n        const selectValue = new Set([...event.target.options].filter(option => option.selected).map(option => option.value))\n        let allSelected = true\n\n        for (const [, value] of Object.entries(this._options)) {\n          if (selectValue.has(value.value)) {\n            this.setSelectValue(value.value, true)\n          } else {\n            this.setSelectValue(value.value, false)\n            allSelected = false\n          }\n        }\n\n        const selectAllButton = this._dropdown.querySelector(SELECTOR_SELECT_ALL)\n        if (allSelected) {\n          selectAllButton.setAttribute('aria-selected', 'true')\n        } else {\n          selectAllButton.setAttribute('aria-selected', 'false')\n        }\n      } else {\n        this.setSelectValue(event.target.value, true)\n      }\n\n      this.handleFocusOut()\n    })\n\n    this.addFontsReadyEvent()\n  }\n\n  addFontsReadyEvent() {\n    document.fonts.ready.then(() => {\n      if (this._formFloatingWithIcon) {\n        if (this._prepend) {\n          this._prepend.style.height = `${this._selectedItem.offsetHeight}px`\n          this._formFloating.style.setProperty('--prepend-width', `${this._prepend.offsetWidth}px`)\n        }\n\n        if (this._append) {\n          this._append.style.height = `${this._selectedItem.offsetHeight}px`\n          this._formFloating.style.setProperty('--append-width', `${this._append.offsetWidth}px`)\n        }\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\ndefineJQueryPlugin(SelectField)\n\nexport default SelectField\n"],"names":["NAME","VERSION","DATA_KEY","EVENT_KEY","EVENT_FOCUS","EVENT_FOCUSOUT","EVENT_CLICK","EVENT_KEYUP","EVENT_HIDDEN","EVENT_SHOWN","CLASS_NAME_FLOATING","CLASS_NAME_FLOATING_OUTLINED","CLASS_NAME_FLOATING_DARK","CLASS_NAME_SEARCHABLE","CLASS_NAME_MULTI_SELECT","SELECTOR_DROPDOWN_ITEM","SELECTOR_SELECT_ALL","LABEL_SCALE","TO_STRING_BASE","SUBSTR_INDEX","SelectField","BaseComponent","constructor","element","_select","_formFloating","closest","initSelect","_setListeners","jQueryInterface","config","each","data","getOrCreateInstance","TypeError","tabIndex","_isSearchable","Boolean","className","includes","_multiSelectEnabled","baseColor","getBaseColor","primaryColor","getPrimaryColor","style","setProperty","_label","querySelector","_inputGroup","classList","add","_formFloatingWithIcon","_prepend","_append","paddingLeft","createDropdownMenu","createDropdown","showSelectedItems","addRipple","addNotch","toggleLabelState","redraw","offsetWidth","addFontsReadyEvent","rebuild","_options","_dropdownMenu","innerHTML","dropdownMenu","undefined","document","createElement","role","setAttribute","id","Date","now","toString","Math","random","slice","append","createSearchContainer","createDropdownItems","optionsArray","options","querySelectorAll","value","Object","entries","text","selected","push","closeButton","type","_closeButton","dropdown","selectedItem","dataset","bsToggle","bsAutoClose","disabled","_dropdown","_selectedItem","after","_dropdownInstance","Dropdown","searchInput","placeholder","autocomplete","checked","isSelectAllButton","dropdownItem","checkmark","label","map","option","join","EventHandler","on","event","show","selectOne","target","ripple","_ripple","notch","notchBefore","notchBetween","notchAfter","_notch","length","remove","handleFocusOut","contains","selectedOptions","selectedOption","dispatchEvent","Event","bubbles","selectAll","setSelectValue","index","dropdownItems","findIndex","o","search","toLowerCase","item","optionText","e","clickEvent","focus","getAttribute","toggle","selectValue","Set","filter","allSelected","has","selectAllButton","fonts","ready","then","height","offsetHeight","defineJQueryPlugin"],"mappings":"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"}