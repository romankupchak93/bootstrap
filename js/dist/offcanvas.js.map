{"version":3,"file":"offcanvas.js","sources":["../src/offcanvas.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap offcanvas.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport Backdrop from './util/backdrop.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport FocusTrap from './util/focustrap.js'\nimport {\n  defineJQueryPlugin,\n  isDisabled,\n  isVisible\n} from './util/index.js'\nimport ScrollBarHelper from './util/scrollbar.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'offcanvas'\nconst DATA_KEY = 'bs.offcanvas'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst ESCAPE_KEY = 'Escape'\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_SHOWING = 'showing'\nconst CLASS_NAME_HIDING = 'hiding'\nconst CLASS_NAME_BACKDROP = 'offcanvas-backdrop'\nconst CLASS_NAME_BODY_PUSH = 'offcanvas-content-'\nconst OPEN_SELECTOR = '.offcanvas.show'\n\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_RESIZE = `resize${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY}`\n\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"offcanvas\"]'\n\nconst Default = {\n  backdrop: true,\n  keyboard: true,\n  scroll: false\n}\n\nconst DefaultType = {\n  backdrop: '(boolean|string)',\n  keyboard: 'boolean',\n  scroll: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Offcanvas extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n    this._toggleElement = null\n    this._isShown = false\n    this._backdrop = this._initializeBackDrop()\n    this._focustrap = this._initializeFocusTrap()\n    this._addEventListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle(relatedTarget) {\n    this._toggleElement = relatedTarget\n    return this._isShown ? this.hide() : this.show(relatedTarget)\n  }\n\n  whichTransitionEvent() {\n    const el = document.createElement('event')\n    const transitionEvents = {\n      WebkitTransition: 'webkitTransitionEnd',\n      MozTransition: 'transitionend',\n      transition: 'transitionend'\n    }\n    for (const t in transitionEvents) {\n      if (el.style[t] !== undefined) {\n        return transitionEvents[t]\n      }\n    }\n  }\n\n  handleTransition() {\n    const transitionEvent = this.whichTransitionEvent()\n    this._element.addEventListener(transitionEvent, () => {\n      /// fix scss for correct animate\n    })\n  }\n\n  show(relatedTarget) {\n    if (this._isShown) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, { relatedTarget })\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._isShown = true\n    this._backdrop.show()\n\n    if (!this._config.scroll) {\n      new ScrollBarHelper().hide()\n    }\n\n    this._element.setAttribute('aria-modal', true)\n    this._element.setAttribute('role', 'dialog')\n    this._element.classList.add(CLASS_NAME_SHOWING)\n\n    if (this._toggleElement === relatedTarget) {\n      if (this._toggleElement.hasAttribute('data-bs-side') && this._toggleElement.getAttribute('data-bs-side') === 'end') {\n        document.body.classList.add(`${CLASS_NAME_BODY_PUSH}end`)\n        this._element.setAttribute('data-bs-ride', 'end')\n        this.handleTransition()\n      }\n\n      if (this._toggleElement.hasAttribute('data-bs-side') && this._toggleElement.getAttribute('data-bs-side') === 'start') {\n        document.body.classList.add(`${CLASS_NAME_BODY_PUSH}start`)\n        this._element.setAttribute('data-bs-ride', 'start')\n        this.handleTransition()\n      }\n    }\n    const completeCallBack = () => {\n      if (!this._config.scroll || this._config.backdrop) {\n        this._focustrap.activate()\n      }\n\n      this._element.classList.add(CLASS_NAME_SHOW)\n      this._element.classList.remove(CLASS_NAME_SHOWING)\n      EventHandler.trigger(this._element, EVENT_SHOWN, { relatedTarget })\n    }\n\n    this._queueCallback(completeCallBack, this._element, true)\n  }\n\n  hide() {\n    if (!this._isShown) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    this._focustrap.deactivate()\n    this._element.blur()\n    this._isShown = false\n    this._element.classList.add(CLASS_NAME_HIDING)\n    this._backdrop.hide()\n\n    const completeCallback = () => {\n      this._element.classList.remove(CLASS_NAME_SHOW, CLASS_NAME_HIDING)\n      this._element.removeAttribute('aria-modal')\n      this._element.removeAttribute('role')\n\n      if (this._toggleElement.hasAttribute('data-bs-side') && this._toggleElement.getAttribute('data-bs-side') === 'end') {\n        document.body.classList.remove(`${CLASS_NAME_BODY_PUSH}end`)\n        this._element.removeAttribute('data-bs-ride')\n      } else if (this._toggleElement.hasAttribute('data-bs-side') && this._toggleElement.getAttribute('data-bs-side') === 'start') {\n        document.body.classList.remove(`${CLASS_NAME_BODY_PUSH}start`)\n        this._element.removeAttribute('data-bs-ride')\n      }\n\n      if (!this._config.scroll) {\n        new ScrollBarHelper().reset()\n      }\n\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    }\n\n    this._queueCallback(completeCallback, this._element, true)\n  }\n\n  dispose() {\n    this._backdrop.dispose()\n    this._focustrap.deactivate()\n    super.dispose()\n  }\n\n  // Private\n  _initializeBackDrop() {\n    const clickCallback = () => {\n      if (this._config.backdrop === 'static') {\n        EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n        return\n      }\n\n      this.hide()\n    }\n\n    // 'static' option will be translated to true, and booleans will keep their value\n    const isVisible = Boolean(this._config.backdrop)\n\n    return new Backdrop({\n      className: CLASS_NAME_BACKDROP,\n      isVisible,\n      isAnimated: true,\n      rootElement: this._element.parentNode,\n      clickCallback: isVisible ? clickCallback : null\n    })\n  }\n\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    })\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {\n      if (event.key !== ESCAPE_KEY) {\n        return\n      }\n\n      if (this._config.keyboard) {\n        this.hide()\n        return\n      }\n\n      EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n    })\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Offcanvas.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this)\n\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  if (isDisabled(this)) {\n    return\n  }\n\n  EventHandler.one(target, EVENT_HIDDEN, () => {\n    // focus on trigger when it is closed\n    if (isVisible(this)) {\n      this.focus()\n    }\n  })\n\n  // avoid conflict when clicking a toggler of an offcanvas, while another is open\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR)\n  if (alreadyOpen && alreadyOpen !== target) {\n    Offcanvas.getInstance(alreadyOpen).hide()\n  }\n\n  const data = Offcanvas.getOrCreateInstance(target)\n  data.toggle(this)\n})\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const selector of SelectorEngine.find(OPEN_SELECTOR)) {\n    Offcanvas.getOrCreateInstance(selector).show()\n  }\n})\n\nEventHandler.on(window, EVENT_RESIZE, () => {\n  for (const element of SelectorEngine.find('[aria-modal][class*=show][class*=offcanvas-]')) {\n    if (getComputedStyle(element).position !== 'fixed') {\n      Offcanvas.getOrCreateInstance(element).hide()\n    }\n  }\n})\n\nenableDismissTrigger(Offcanvas)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Offcanvas)\n\nexport default Offcanvas\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_LOAD_DATA_API","ESCAPE_KEY","CLASS_NAME_SHOW","CLASS_NAME_SHOWING","CLASS_NAME_HIDING","CLASS_NAME_BACKDROP","CLASS_NAME_BODY_PUSH","OPEN_SELECTOR","EVENT_SHOW","EVENT_SHOWN","EVENT_HIDE","EVENT_HIDE_PREVENTED","EVENT_HIDDEN","EVENT_RESIZE","EVENT_CLICK_DATA_API","EVENT_KEYDOWN_DISMISS","SELECTOR_DATA_TOGGLE","Default","backdrop","keyboard","scroll","DefaultType","Offcanvas","BaseComponent","constructor","element","config","_toggleElement","_isShown","_backdrop","_initializeBackDrop","_focustrap","_initializeFocusTrap","_addEventListeners","toggle","relatedTarget","hide","show","whichTransitionEvent","el","document","createElement","transitionEvents","WebkitTransition","MozTransition","transition","t","style","undefined","handleTransition","transitionEvent","_element","addEventListener","showEvent","EventHandler","trigger","defaultPrevented","_config","ScrollBarHelper","setAttribute","classList","add","hasAttribute","getAttribute","body","completeCallBack","activate","remove","_queueCallback","hideEvent","deactivate","blur","completeCallback","removeAttribute","reset","dispose","clickCallback","isVisible","Boolean","Backdrop","className","isAnimated","rootElement","parentNode","FocusTrap","trapElement","on","event","key","jQueryInterface","each","data","getOrCreateInstance","startsWith","TypeError","target","SelectorEngine","getElementFromSelector","includes","tagName","preventDefault","isDisabled","one","focus","alreadyOpen","findOne","getInstance","window","selector","find","getComputedStyle","position","enableDismissTrigger","defineJQueryPlugin"],"mappings":"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"}